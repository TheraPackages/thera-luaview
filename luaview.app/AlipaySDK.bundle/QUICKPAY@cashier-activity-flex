{"time":"0015","tplId":"QUICKPAY@cashier-activity-flex","publishVersion":"150924","tag":"QUICKPAY","name":"cashier-activity-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"script","src":"cashier-activity-flex.js"},{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var create=amc.fn.create;var rpc=amc.rpcData;var show=amc.fn.show;var MOD_TYPE_SUMMARY=\"Summary\";var MOD_TYPE_DISCOUNT=\"Discount\";var MOD_TYPE_PAYMENT=\"Payment\";var MOD_TYPE_SCORE=\"Score\";var MOD_TYPE_BUSINESS_GUIDE=\"BizGuide\";var MOD_TYPE_SERVICE=\"Service\";var MOD_TYPE_AD=\"Ad\";var MAX_AD_HEIGHT=500;var MAX_SVERVICE_WINDOW_HEIGHT=75;var defaultImg={};defaultImg.Share=\"alipay_msp_share\";defaultImg.AA=\"alipay_msp_aa\";defaultImg.Comment=\"alipay_msp_comment\";var defaultBtnText={};defaultBtnText.Share=\"分享\";defaultBtnText.AA=\"AA\";defaultBtnText.Comment=\"评价\";function init(){var d=rpc.title||\"{{alipay}}\";var c=amc.fn.getNav(null,null,d,\"{{complete}}\",null,null,amc.fn.exit);getTag(\"body\").insertBefore(c,getTag(\"mainBody\"));if(amc.isAndroid){getTag(\"mainBody\").style.height=amc.specs.bodyHeight}if(rpc.modules){for(var b=0,a=rpc.modules.length;b<a;b++){showModules(rpc.modules[b])}}}function showModules(a){if(!a){return}switch(a.mtype){case MOD_TYPE_SUMMARY:showSummary(a);break;case MOD_TYPE_DISCOUNT:showDiscount(a);break;case MOD_TYPE_SCORE:showScore(a);break;case MOD_TYPE_PAYMENT:showPayment(a);break;case MOD_TYPE_BUSINESS_GUIDE:showBizGuide(a);break;case MOD_TYPE_SERVICE:showService(a);break;case MOD_TYPE_AD:showAd(a);break;default:break}}function showSummary(a){getTag(\"actualPaid\").innerText=a.actualPaid||\"\";if(a.originAmount){getTag(\"originAmount\").innerText=a.originAmount;show(\"originAmount\")}if(a.info){getTag(\"info\").innerText=a.info;show(\"info\")}getTag(\"payLogo\").src=a.logoUrl||amc.path+\"alipay_msp_logo_login\";getTag(\"successTitle\").innerText=a.successTitle||\"{{pay_success}}\";show(\"SummaryArea\")}function showDiscount(g){if(!g.detail||!g.detail.length){return}var b=getTag(\"discountDetail\");for(var f=0,c=g.detail.length;f<c;f++){var e=\"amc-align-center\"+(f<c-1?\" amc-margin-b-ss\":\"\");var a=create(\"div\",e,b);a.style.height=amc.isPlus?24:18;var h=create(\"label\",\"amc-text-color-red amc-font-s amc-ellipsis\",a);h.style.maxWidth=amc.isPlus?200:150;h.innerText=g.detail[f][\"info\"]||\"\";var d=create(\"label\",\"amc-margin-l-xs amc-flex-1 amc-text-color-red amc-font-s amc-text-right  amc-ellipsis\",a);d.innerText=g.detail[f][\"price\"]||\"\"}show(\"discountArea\")}function showPayment(e){if(!e.detail||!e.detail.length){return}var b=getTag(\"paymentDetail\");for(var f=0,d=e.detail.length;f<d;f++){var h=\"amc-align-center\"+(f<d-1?\" amc-margin-b-ss\":\"\");var l=create(\"div\",h,b);var c=create(\"div\",\"amc-margin-l amc-flex-1 amc-align-center\",l);var a=create(\"label\",\"amc-font-s amc-text-dark-color amc-ellipsis\",c);a.style.maxWidth=amc.isPlus?120:100;a.innerText=e.detail[f][\"channel\"]||\"\";var k=create(\"label\",\"amc-font-s  amc-text-dark-color\",c);k.innerText=e.detail[f][\"tail\"]||\"\";var g=create(\"label\",\"amc-font-s amc-margin-l amc-text-dark-color  amc-ellipsis\",l);g.innerText=e.detail[f][\"price\"]||\"\"}show(\"paymentArea\")}function showScore(a){if(a.obtain&&a.total){getTag(\"scoreDetail\").innerText='获得<font color=\"#f96268\">'+a.obtain+'</font>会员积分，累计<font color=\"#f96268\">'+a.total+\"</font>分\"}getTag(\"scoreArea\").onclick=function(){document.submit({action:{name:a.action}})};getTag(\"arrowRight\").src=amc.path+\"alipay_msp_arrow_right\";show(\"scoreArea\")}function showIframe(b,a){if(getTag(b)){getTag(b).src=a;getTag(b).onnativescheme=function(){amc.fn.openurl(getTag(b).url,\"1\")}}}function showBizGuide(a){if(!a||!a.bizModules||!a.bizModules.length){return}if(a.bizModules.length==1){createSingleBizGuide(a.bizModules[0])}else{createMultiBizGuide(a.bizModules)}}function createSingleBizGuide(g){if(!g||!g.bizGuideType){return}var a=getTag(\"bizGuides\");var b=create(\"div\",\"amc-align-center amc-pd-t-s amc-pd-b-s\",a);var e=create(\"div\",\"activity-l-box-width amc-align-center\",b);var d=create(\"img\",\"biz-guide-icon\",e);d.src=g.logoUrl||amc.path+defaultImg[g.bizGuideType];d.defaultvalue=amc.path+defaultImg[g.bizGuideType];var h=create(\"label\",\"amc-text-light-color amc-font-s amc-ellipsis amc-flex-1 amc-margin-l\",b);h.innerText=g.info||\"\";var c=create(\"div\",\"blue-border-button amc-press-box amc-v-box\",b);c.onclick=function(){document.submit({action:{name:g.action}})};var f=create(\"label\",\"blue-text-color amc-text-center amc-ellipsis biz-guide-title-width\",c);f.innerText=g.btnText||defaultBtnText[g.bizGuideType];show(\"bizGuideArea\")}function createMultiBizGuide(f){if(!f||!f.length){return}var b=getTag(\"bizGuides\");var e=create(\"div\",\"pd-tb-l\",b);var g=create(\"div\",\"amc-flex-space-1\",e);for(var d=0,c=f.length;d<c;d++){(function(){var k=create(\"div\",\"amc-v-box amc-align-center amc-justify-center amc-flex-space-2 amc-pd-lr\",e);var l=create(\"div\",\"circle amc-align-center amc-justify-center amc-press-box\",k);var i=d;l.onclick=function(){document.submit({action:{name:f[i][\"action\"]}})};var h=create(\"img\",\"biz-guide-icon\",l);h.src=f[d][\"logoUrl\"]||amc.path+defaultImg[f[d][\"bizGuideType\"]];h.defaultvalue=amc.path+defaultImg[f[d][\"bizGuideType\"]];var j=create(\"label\",\"amc-text-light-color amc-font-xs amc-text-center margin-t-s biz-guide-title-width amc-ellipsis\",k);j.innerText=f[d][\"btnText\"]||defaultBtnText[f[d][\"bizGuideType\"]]})()}var a=create(\"div\",\"amc-flex-space-1\",e);show(\"bizGuideArea\")}function showAd(a){if(!a||!a.url){return}showIframe(\"adIframe\",a.url);if(a.height){getTag(\"adIframe\").style.height=a.height<MAX_AD_HEIGHT?a.height:MAX_AD_HEIGHT}getTag(\"adTitle\").innerText=a.title||\"活动\";show(\"adArea\")}function showService(b){if(!b.url){return}if(b.actionUrl){var a=getTag(\"serviceImg\");getTag(\"serviceImg\").style.height=b.height||75;getTag(\"serviceImg\").style.width=\"100%\";a.src=b.url;getTag(\"serviceImg\").onclick=function(){amc.fn.openurl(b.actionUrl,\"1\")};show(\"serviceImg\")}else{if(b.height){getTag(\"serviceIframe\").style.height=b.height<MAX_SVERVICE_WINDOW_HEIGHT?b.height:MAX_SVERVICE_WINDOW_HEIGHT}show(\"serviceIframe\");showIframe(\"serviceIframe\",b.url)}show(\"serviceArea\")}function onKeyDown(){if(event.which==4){amc.fn.exit()}};","tag":"text"}]},{"tag":"style","children":[{"text":".pd-tb-l {\n    padding-top: 20px;\n    padding-bottom: 20px;\n}\n.detail-img{\n    max-height: 18px;\n    max-width: 60px;\n}\n.detail-img-box {\n    align-items: flex-start;\n}\n\n.ad-text {\n    margin: 0 8px;\n    color: #ccc;\n}\n\n.body-color {\n    background-color: #f5f5f9\n}\n.iframe-height{\n    height: 75px;\n}\n.circle {\n    height: 50px;\n    width: 50px;\n    border-radius: 25px;\n    border: #e5e5e5 solid 1px;\n}\n.margin-t-s {\n    margin-top: 10px;\n}\n.biz-guide-icon {\n    max-width: 30px;\n    max-height: 30px;\n}\n.blue-border-button {\n    border-radius: 5px;\n    border: #0ae solid 2px;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    height: 25px;\n    min-width: 45px;\n    padding-left: 5px;\n    padding-right: 5px;\n    overflow: hidden;\n}\n.biz-guide-title-width {\n    max-width: 80px;\n}\n.blue-text-color {\n    color: #0ae;\n}\n.margin-t-s {\n    margin-top: 10px;\n}\n.score-area {\n    margin-top: -1px;\n}","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"mainBody","tag":"div","children":[{},{"id":"SummaryArea","tag":"div","children":[{"tag":"div","children":[{"id":"payLogo","tag":"img","css":"activity-logo-new amc-margin-b-s"}],"css":"amc-justify-center"},{"tag":"div","children":[{"id":"successTitle","tag":"label","css":"amc-theme-color activity-text-success amc-margin-b-s"},{"id":"actualPaid","tag":"label","css":"activity-text-paid amc-margin-b-s"},{"id":"originAmount","tag":"label","css":"activity-text-origin amc-line-through amc-margin-b-s amc-hidden"},{"id":"info","tag":"label","css":"amc-ellipsis amc-font-s amc-text-light-color amc-margin-b-s amc-hidden"}],"css":"amc-align-center amc-v-box"},{"tag":"div","css":"activity-line margin-t-s"}],"css":"amc-v-box amc-bg-white amc-pd-lr amc-pd-t-l amc-hidden"},{},{"id":"discountArea","tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{discount_detail}}","tag":"text"}],"css":"activity-discount-text amc-ellipsis"}],"css":"activity-discount-text-box amc-align-self-start amc-ellipsis amc-flex-1"}],"css":"activity-l-box-width"},{"id":"discountDetail","tag":"div","css":"amc-v-box amc-pd-l amc-flex-1"}]},{"tag":"div","css":"activity-line amc-margin-t"}],"css":"amc-v-box amc-bg-white amc-pd-lr amc-pd-t amc-hidden"},{},{"id":"scoreArea","tag":"div","children":[{},{"tag":"div","css":"activity-line amc-margin-b"},{"tag":"div","children":[{"tag":"label","children":[{"text":"积分奖励","tag":"text"}],"css":"activity-l-box-width amc-ellipsis amc-font-s amc-text-light-color"},{"id":"scoreDetail","tag":"label","css":"amc-flex-1 amc-margin-l amc-font-s amc-flex-1 amc-text-dark-color amc-ellipsis"},{"id":"arrowRight","tag":"img","css":"amc-arrow-img-size"}],"css":"amc-align-center"},{"tag":"div","css":"activity-line amc-margin-t"}],"css":"amc-v-box amc-bg-white amc-pd-lr amc-press-box amc-hidden score-area"},{},{"id":"paymentArea","tag":"div","children":[{"tag":"div","children":[{"tag":"label","children":[{"text":"{{payment_info}}","tag":"text"}],"css":"amc-align-self-start amc-ellipsis amc-font-s amc-text-light-color amc-flex-1"}],"css":"activity-l-box-width"},{"id":"paymentDetail","tag":"div","css":"amc-flex-1 amc-v-box"}],"css":"amc-bg-white amc-pd amc-hidden"},{"tag":"div","css":"activity-line"},{},{"id":"serviceArea","tag":"div","children":[{"id":"serviceIframe","tag":"iframe","nativescheme":"alipays","css":"iframe-height amc-hidden"},{"id":"serviceImg","tag":"img","css":"amc-hidden"},{"tag":"div","css":"activity-line"}],"css":"amc-v-box amc-hidden"},{},{"id":"bizGuideArea","tag":"div","children":[{"id":"bizGuides","tag":"div","css":"amc-v-box amc-pd-lr amc-justify-center amc-bg-white"},{"tag":"div","css":"activity-line"}],"css":"amc-v-box"},{},{"id":"adArea","tag":"div","children":[{"tag":"div","children":[{"tag":"div","css":"activity-line amc-flex-1"},{"id":"adTitle","tag":"label","css":"ad-text amc-font-xxxs"},{"tag":"div","css":"activity-line amc-flex-1"}],"css":"activity-ad-title-box amc-pd-lr amc-align-center"},{"tag":"div","css":"activity-line"},{"id":"adIframe","tag":"iframe","nativescheme":"alipays","css":"iframe-height"},{"tag":"div","css":"activity-line"}],"css":"amc-v-box amc-hidden"}],"css":"amc-v-box amc-flex-1 body-color amc-scroll-android"}],"onkeydown":"onKeyDown();","css":"amc-body body-color"}]},"format":"JSON","tplVersion":"5.0.4"}