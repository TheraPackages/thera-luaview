{"time":"0023","tplId":"QUICKPAY@frontpay-channel-logo-flex","publishVersion":"150924","tag":"QUICKPAY","name":"frontpay-channel-logo-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var show=amc.fn.show;var hide=amc.fn.hide;var create=amc.fn.create;var rpc=amc.rpcData;var path=amc.path+\"alipay_msp_\";var gouPng=path+\"gou\";var addCardAction=\"/frontpay/newCard\";var nextAction=\"loc:returnData\";function createPaymentItem(o,k){var l=getTag(\"channel\");var m=create(\"div\");m.className=\"item amc-pd-lr\";var j;var e=create(\"img\");if(!o.new_card&&o.logo){if(o.logo.indexOf(\"local:\")===0){e.src=amc.path+o.logo.substr(\"local:\".length)}else{e.src=o.logo}e.defaultvalue=path+\"bank_logo\";e.className=\"amc-img-s amc-margin-r-s\";m.appendChild(e);if(!o.usable){e.style.cssText=\"opacity:0.3\"}}var n=create(\"div\");n.className=\"amc-item-m-box\";m.appendChild(n);var p=create(\"div\");p.className=\"amc-v-box amc-flex-1\";n.appendChild(p);var c=create(\"div\");p.appendChild(c);var f=create(\"label\");f.className=\"amc-item-detail amc-item-m-text amc-ellipsis\";f.style.cssText=\"color:#000; flex:0;\";f.style.maxWidth=amc.isPlus?200:150;f.innerText=o.name||\"\";c.appendChild(f);var b=create(\"label\");b.className=\"amc-item-detail amc-item-m-text\";b.style.cssText=\"color:#000; flex:0;\";b.innerText=o.tail||\"\";c.appendChild(b);var a;var g=false;if(o.available){a=o.available_title;g=true}if(!o.usable){f.style.color=\"#ccc\";b.style.color=\"#ccc\";if(o.close_msg){a=o.close_msg}else{if(o.available_title){a=o.available_title}}g=true;m.disabled=true}else{m.onclick=function(){var s={action:{name:nextAction}};if(o.new_card){s.action[\"name\"]=addCardAction}else{if(rpc.bizType===\"deposit\"){s.action[\"name\"]=\"loc:reload;loc:back\"}}if(rpc.bizType===\"deposit\"){var u={};u.choosed_channel_no=k;u.recommend_bank_logo_url=(e&&e.src)||\"\";var t=o.value;if(t){u.limit_amount=t.availableAmount||\"\";u.recommend_channel_name=t.channelName;var r=t.cardInfo;if(r){u.recommend_card_tailno=r.cardNo}s.param=u}document.submit(s)}else{s.action[\"loadtxt\"]=\"\";submit_obj={};submit_obj.resultStatus=o.end_code;submit_obj.result=toString(o.value);submit_obj.memo=\"\";s.action[\"params\"]=submit_obj;document.asyncSubmit(s,function(v){if(v.pageloading===\"1\"){hide(d);show(j)}else{if(v.pageloading===\"0\"){hide(j);show(d)}}})}hide(d);show(j)};m.className+=\" amc-press-box\"}if(g){var i=create(\"label\");i.className=\"amc-item-detail amc-font-xs\";i.style.color=o.usable?\"#999\":\"#ccc\";i.innerText=a||\"\";p.appendChild(i);if(o.close_msg&&o.detailAction){m.disabled=false;i.style.cssText=\"color:#999; flex:1.0;white-space: wrap;\";p.onclick=function(){var r={action:{name:o.detailAction,loadtxt:\"\"}};document.submit(r)}}}var d=create(\"img\");d.style.marginLeft=\"0px\";if(o.checked){d.src=gouPng}if(o.new_card){d.src=amc.res.arrowRight}d.id=\"add\";m.appendChild(d);j=create(\"img\");j.src=\"indicatior\";j.className=\"amc-hidden\";m.appendChild(j);var h=create(\"div\");if(k<rpc.channels.length-1){h.className=\"amc-pd-lr\"}var q=create(\"div\");q.className=\"amc-1px-line amc-flex-1\";h.appendChild(q);l.appendChild(m);l.appendChild(h)}function init(){var c=rpc.setting?\"{{setting}}\":null;var e=amc.fn.iNav(amc.res.close,\"{{sel_pay_tool}}\",c,null,onClose,gotoSetting);getTag(\"body\").insertBefore(e,getTag(\"iLine\"));if(getTag(\"iNavBoxR\")&&getTag(\"iNavBoxL\")){getTag(\"iNavBoxR\").style.width=amc.isPlus?85:75;getTag(\"iNavBoxL\").style.width=amc.isPlus?85:75}if(rpc.bizType===\"deposit\"){addCardAction=\"loc:back;/setting/addCard\";nextAction=\"loc:back;/deposit/channelChoosed\"}for(var a=0;a<rpc.channels.length;a++){createPaymentItem(rpc.channels[a],a)}var d=rpc.newCardChannel;if(d&&d.usable){var b={};b.new_card=true;b.usable=true;b.name=rpc.newCardChannel.name;b.tail=\"\";createPaymentItem(b,-1)}}function addNewCard(){document.submit({action:{name:\"/frontpay/newCard\"}})}function gotoSetting(){document.submit({action:{name:\"/forward/setting\"}})}function onClose(){if(rpc.bizType===\"deposit\"){amc.fn.back()}else{amc.fn.exit()}}function onKeyDown(){if(event.which==4){onClose()}}function toString(a){if(a==undefined||a==null){return\"{}\"}if(typeof a==\"string\"){return a}else{if(typeof a==\"object\"){return JSON.stringify(a)}else{return a+\"\"}}};","tag":"text"}]},{"tag":"style","children":[{"text":".item {\n    align-items: center;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    height: 64px;\n}","tag":"text"}]}]},{"id":"body","onload":"init();","tag":"body","children":[{"id":"iLine","tag":"div","css":"amc-1px-title-line"},{"tag":"div","children":[{"id":"channel","tag":"div","css":"amc-column-flex-1 amc-scroll"},{"tag":"div","children":[{"tag":"div","css":"amc-1px-line"}],"css":"amc-pd-lr"}],"css":"amc-column-flex-1"}],"onkeydown":"onKeyDown();","css":"amc-i-body"}]},"format":"JSON","tplVersion":"5.0.3"}