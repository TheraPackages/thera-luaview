{"time":"0047","tplId":"QUICKPAY@cashier-channel-logo-flex","publishVersion":"150924","tag":"QUICKPAY","name":"cashier-channel-logo-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"script","src":"js/cashier-channel-logo-flex.js"},{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var show=amc.fn.show;var hide=amc.fn.hide;var rpc=amc.rpcData;var marginLeft=5;var path=amc.path+\"alipay_msp_\";var arrowRightImg=path+\"arrow_right\";var huiPng=path+\"hui\";var fanPng=path+\"fan\";var busyPng=path+\"busy\";var recommendPng=path+\"recommend\";var gouPng=path+\"gou\";function create(b,d,c){var a=document.createElement(b);if(!a){return}if(d){a.className=d}if(c){c.appendChild(a)}return a}function createPaymentItem(q,g,k){var r=getTag(\"channel\");var l=create(\"div\",\"amc-1px-line amc-margin-lr\",r);if(k){l.style.marginLeft=amc.isPlus?55:50}if(!q.disable){q.detailAction=\"\"}var b=create(\"div\");b.className=\"item amc-pd-lr\";var j;if(q.disable){if(!q.detailAction){b.disabled=true}}else{if(!q.children||!q.children.length){b.onclick=function(){if(q.checked){document.submit({action:{name:\"loc:back\"}});return}var s={action:{name:\"/cashier/switchChannelSel\",loadtxt:\"\"}};s.param={selected_channel:(k?q.parentValue:q.value)};s.param[\"first_enter_cashier\"]=false;if(k){s.param[\"child_channel\"]=q.childValue}if(q.add){}else{s.action[\"l2rmode\"]=\"1\"}document.asyncSubmit(s,function(t){if(t.pageloading===\"1\"){if(q.add){hide(\"add\")}show(j)}else{if(t.pageloading===\"0\"){hide(j);if(q.add){show(\"add\")}}}});if(q.add){hide(\"add\")}show(j)}}}var a=create(\"div\");var e=create(\"img\");if(!q.add&&q.logo&&!k){if(q.logo.indexOf(\"local:\")==0){e.src=amc.path+q.logo.substr(\"local:\".length)}else{e.src=q.logo;e.defaultvalue=path+\"bank_logo\"}if(q.disable){e.style.cssText=\"opacity:0.3\"}}if(q.add){hide(e)}e.style.cssText=\"width:25px;height:25px;margin-right:10px;\";a.appendChild(e);b.appendChild(a);var p=create(\"div\");p.className=\"amc-v-box-center\";b.appendChild(p);var f=create(\"div\");f.className=\"amc-item-m-box\";f.style.flex=\"0\";p.appendChild(f);var d=create(\"div\");f.appendChild(d);var h=create(\"label\");h.className=\"amc-item-m-text amc-ellipsis\";h.style.cssText=\"flex:0;\";h.style.maxWidth=amc.isPlus?220:140;h.innerText=q.name||\"\";d.appendChild(h);var i=create(\"label\");i.className=\"amc-item-m-text\";i.style.cssText=\"flex:0;\";i.innerText=q.tail||\"\";d.appendChild(i);if(q.rec){var n=create(\"img\");n.src=recommendPng;n.style.marginLeft=marginLeft;n.style.height=14;f.appendChild(n)}if(q.hui){var n=create(\"img\");n.src=huiPng;n.style.marginLeft=marginLeft;f.appendChild(n)}if(q.fan){var n=create(\"img\");n.src=fanPng;n.style.marginLeft=marginLeft;f.appendChild(n)}if(q.busy){var n=create(\"img\");n.src=busyPng;n.style.marginLeft=marginLeft;f.appendChild(n)}var c=undefined;if(q.detail){c=create(\"label\");var o=\"font-size:12px;text-align:left;color:#999; margin-top:3px;\";if(q.detailAction){c.onclick=function(){var s={action:{name:q.detailAction,loadtxt:\"\"}};document.submit(s);if(q.dlg&&q.dlg[\"btnRightAction\"]){setTimeout(function(){showDlg(q.dlg)},1000)}}}else{o+=\" white-space:nowrap;overflow:hidden; text-overflow: ellipsis\"}c.style.cssText=o;c.innerText=q.detail;p.appendChild(c)}if(q.disable){if(c&&!q.detailAction){c.style.color=\"#ccc\"}h.style.color=\"#ccc\";i.style.color=\"#ccc\"}else{b.className+=\" amc-press-box\"}var m=create(\"img\");m.src=gouPng;hide(m);if(q.checked){show(m);current_channal=g}else{if(q.add){show(m);m.src=arrowRightImg;m.id=\"add\"}}j=create(\"img\");j.src=\"indicatior\";hide(j);m.style.marginLeft=\"15px\";j.style.marginLeft=\"15px\";b.appendChild(j);b.appendChild(m);r.appendChild(b);return b}function init(){var c=rpc.exit?amc.res.close:amc.res.arrowLeft;var f=rpc.setting?\"{{setting}}\":null;var g=amc.fn.iNav(c,\"{{sel_pay_tool}}\",f,null,onBack,gotoSetting);getTag(\"body\").insertBefore(g,getTag(\"iLine\"));if(getTag(\"iNavBoxR\")&&getTag(\"iNavBoxL\")){getTag(\"iNavBoxR\").style.width=amc.isPlus?85:75;getTag(\"iNavBoxL\").style.width=amc.isPlus?85:75}var e=rpc.payments.length;for(var b=0;b<e;b++){var d=createPaymentItem(rpc.payments[b],b);createChildren(rpc.payments[b])}var a=create(\"div\",\"amc-1px-line\",getTag(\"channel\"))}function createChildren(b){var a=b&&b.children;if(!a||!a.length){return}for(var c=0;c<a.length;c++){a[c][\"parentValue\"]=b.value;createPaymentItem(a[c],c,true)}}function gotoSetting(){if(rpc.setting){document.submit({action:{name:\"/forward/setting\"}})}}function onBack(){if(rpc.exit){amc.fn.exitConfirm()}else{amc.fn.back()}}function onKeyDown(){if(event.which==4){onBack()}}function showDlg(a){if(!a||!a.btnRight||!a.dlgTxt||!a.btnLeft||!a.btnRight){return}getTag(\"dlgTxt\").innerText=a.dlgTxt;getTag(\"btnLeft\").innerText=a.btnLeft;getTag(\"btnRight\").innerText=a.btnRight;getTag(\"btnRight\").onclick=function(){var b={action:{name:a.btnRightAction}};document.submit(b);getTag(\"dlg\").close()};getTag(\"dlg\").showModal()};","tag":"text"}]},{"tag":"style","children":[{"text":".item {\n    align-items: center;\n    padding: 10px 15px;\n    min-height: 54px;\n}\n.btn-text{font-weight:bold;color:#00aaee;margin: 15px 0;}\n.btn-vertical-line{width:1px; align-self:stretch; margin: 7px 0;background-color:#e5e5e5;}","tag":"text"}]}]},{"id":"body","onload":"init();","tag":"body","children":[{"id":"iLine","tag":"div","css":"amc-1px-title-line"},{"tag":"div","children":[{"id":"channal_area","tag":"div","children":[{"id":"channel","tag":"div","css":"amc-scroll-flex"}],"css":"amc-flex-1"}],"css":"amc-flex-1"},{"id":"dlg","tag":"dialog","children":[{"id":"dlgTxt","tag":"label","css":"amc-font-m amc-text-center amc-margin"},{"tag":"div","children":[{"tag":"div","css":"amc-adapt-line"},{"tag":"div","children":[{"id":"btnLeft","tag":"label","onclick":"getTag('dlg').close();","css":"btn-text amc-font-xxl amc-flex-1 amc-text-center"},{"tag":"div","css":"btn-vertical-line"},{"id":"btnRight","tag":"label","css":"btn-text amc-font-xxl amc-flex-1 amc-text-center"}],"css":"amc-align-center amc-justify-center"}],"css":"amc-v-box amc-justify-center amc-dlg-width"}],"css":"amc-dlg-box amc-v-box"}],"onkeydown":"onKeyDown();","css":"amc-i-body"}]},"format":"JSON","tplVersion":"5.0.3"}