{"time":"0117","tplId":"QUICKPAY@frontpay-limit-query-flex","publishVersion":"150924","tag":"QUICKPAY","name":"frontpay-limit-query-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"//别名\nvar getTag = amc.fn.getById;\nvar create = amc.fn.create;\n\nvar infoText = '余额的支付限额由账户认证等级、收款卡是否为同名卡等因素共同确定，转账信息提交后会确定是否超限。\\n\\n银行卡的支付限额是由银行设定，购物支付、转账、还款缴费等场景限额共享，<font color=\\\"#ff8208\\\">无法提升</font>。若提示超限，建议更换其他付款方式。'\n\nfunction onBack() {\n    amc.fn.back();\n}\nfunction onHelp() {\n    document.submit({'action':{'name':\"loc:openweb('https://csmobile.alipay.com/router.htm?scene=app_zkxesm', '{{help}}')\"}});\n}\n\nfunction createBankItem(bankInfo,index){\n    var banks = amc.fn.getById('banks');\n    var bankItem = create('div');\n    bankItem.className = 'amc-large-cell amc-pd-lr';\n    \n    //文字框\n   \n    var item = create('div');\n    item.className = 'amc-v-box';\n    \n    var titleBox = create('div');\n    titleBox.className = 'amc-align-center';\n    item.appendChild(titleBox);\n    \n    var titleHead = create('label');\n    titleHead.className = 'title-text amc-ellipsis';\n    titleHead.innerText = bankInfo.name  || '';\n    //防止左侧文案过长挤压tail\n    titleHead.style.maxWidth = amc.isPlus ? 300 : 220;\n    titleBox.appendChild(titleHead);\n    \n    var titleTail = create('label');\n    titleTail.innerText = bankInfo.tail || '';\n    titleTail.className = 'title-text title-tail';\n    titleBox.appendChild(titleTail);\n    \n    if (bankInfo.available){\n        var limitText = create('label');\n        limitText.className = 'querylimit-remain-text';\n        limitText.innerText = bankInfo.available_title || '';\n        \n        //如果文案不设置宽度会超出屏幕\n        var padding = amc.isPlus ? 20: 15;\n        limitText.style.width = window.innerWidth - 2*padding;\n        item.appendChild(limitText);\n    }\n    \n    bankItem.appendChild(item);\n    \n    var line = create('div');\n    line.className = 'amc-1px-line';\n    banks.appendChild(line);\n    banks.appendChild(bankItem);\n    \n}\n\nfunction init() {\n    var rImg = amc.path + 'alipay_msp_help_white';\n    var onRight = onHelp;\n    if(amc.rpcData.channels === undefined || amc.rpcData.channels.length === 0){\n        amc.fn.hide('info');\n        rImg = null;\n        onRight = null;\n    } else {\n        amc.fn.getById('info').innerText = amc.rpcData.infoText || infoText;\n    }\n    \n    var nav = amc.fn.getNav(amc.res.navBack, '{{return}}', '{{limit_info}}', null, rImg, onBack, onRight);\n    getTag('body').insertBefore(nav,getTag('mainBody'));\n    \n    if(getTag('navImgR') !== undefined){\n        getTag('navImgR').alt = '{{help}}';\n    }\n    getTag('mainBody').style.height = amc.specs.bodyHeight;\n    // 创建列表\n    for (var i = 0; i < amc.rpcData.channels.length; i++) {\n        var item = createBankItem(amc.rpcData.channels[i], i);\n    }\n}\n\nfunction onKeyDown()\n{\n    if(event.which == 4){\n        onBack();\n    }\n}","tag":"text"}]},{"tag":"style","children":[{"text":".title-text{\n    font-size: 16px;\n    color: #000;\n    align-items:center;\n}\n\n.title-tail {\n    flex: 0;\n    text-align: left;\n}","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"mainBody","tag":"div","children":[{"id":"banks","tag":"div","css":"amc-v-box"},{"tag":"div","css":"amc-1px-line"},{"id":"info","tag":"label","css":"amc-font-s amc-text-light-color amc-margin"},{"tag":"div","css":"amc-abs-space-l"}],"css":"amc-v-box amc-scroll-flex"}],"onkeydown":"onKeyDown();","css":"amc-body"}]},"format":"JSON","tplVersion":"5.0.2"}